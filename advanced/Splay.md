## 선행

- 세그먼트 트리
- 느리게 갱신되는 세그먼트 트리

## 연관

- 링크/컷 트리
- 문제가 요구하는 세그먼트 트리 테크닉

# 스플레이 트리

> Amortized $O(logN)$ 안에 노드 삽입, 노드 삭제, 구간 갱신, 구간 뒤집기, 구간 질의가 가능한 균형 이진 검색 트리(BBST)

트리 자료구조의 (거의) 끝판왕.

트리를 회전시켜 가장 최근에 사용한 노드를 루트 노드로 끌어올려 사용하는 형태의 자료구조이다.

스플레이 트리는 회전(rotate) 함수와 스플레이(splay) 함수를 기반으로 작동한다.


### rotate 함수
rotate 함수는 노드 x를 한 칸 위로 끌어올리는 함수이다.

// 설명 추가

### splay 함수
splay 함수는 rotate 함수를 활용하여 주어진 노드를 root 노드까지(혹은 특정 노드 위치까지) 끌어올리는 함수이다.

// 설명 추가


### 구간 질의

스플레이 트리에서의 구간 질의는 위 함수를 기반으로 작동한다.

gather(int s, int e)는 s~e 사이의 노드의 정보를 가진 노드를 반환한다.

원리는 다음과 같다.

// 설명 추가


## 이모저모

트리 자료구조의 진짜 끝판왕은 모든 갱신/질의를 $O(logN)$ 안에 수행하는 레드 블랙 트리지만, 보통 STL map이나 set 등에 사용되고 있어 해당 자료구조로 해결할 수 있고,  구현 난이도가 높아서 복잡한 쿼리가 필요할 경우 비교적 간결한 스플레이 트리를 대신 사용한다.





## 연습 문제

- 연습 문제
    - [[P2] 배열](https://www.acmicpc.net/problem/13159)